<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>格瓦拉换了抽奖脚本</title>
</head>

<script type="text/javascript">
    window.click_showCapt_time = 15 * 60 * 1000;
    window.click_closeBox_time = 5 * 1000;
    window.clearMyTimes = function () {
        window.clearTimeout(window.showCapt_time);
        window.clearTimeout(window.closeBox_time);
        if(!!window.showCapt_time){
            console.log("clear show capt time success");
        }
        if(!!window.closeBox_time){
            console.log("clear close box time success");
        }
    };
    window.click_showCapt = function () {
        showCapt();
        console.log("click show capt.");
        window.showCapt_time = window.setTimeout(window.click_closeBox, click_closeBox_time);
    };
    window.click_closeBox = function () {
        var result = document.getElementById("giftT").innerHTML;
        console.log("result = " + result);
        closeBox();
        console.log("click close box.");
        window.closeBox_time = window.setTimeout(window.click_showCapt, click_showCapt_time);
    };

    console.log("start auto click...");
    window.click_showCapt();
    console.log("started.");

    //clear
    window.clearMyTimes();

    //demo
    window.click_showCapt_time = 5 * 1000;
    window.click_closeBox_time = 2 * 1000;
    window.click_showCapt();

    function showCapt() {
    }
    function closeBox() {
    }
</script>

<body>
<textarea id="giftT" rows="10" cols="25">5积分</textarea>
</body>
</html>