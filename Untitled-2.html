<html>
  <head>
    <title> ajax无刷新提示 </title>
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<style type="text/css" >
		body{font:11px arial;}
		.suggest_link{
			background-color:#ffffff;
			padding:2px 6px 2px 6px;
			text-decoration:none;
		}
		.suggest_link_over{
			background-color:#e8f2fe;
			padding:2px 6px 2px 6px;
			text-decoration:none;
		}
		#suggest{
			position:absulute;
			background-color:#ffffff;
			text-align:left;
			border:1px solid #000000;
			height:500px;
		}
	a{text-decoration:none;color:black;}
	</style>
	<script type="text/javascript">
	var xmlhttp;
	//创建xmlhttp对象并提交请求数据
	function searchSuggest()
	{
		try{
			xmlhttp=new ActiveXObject("Msxml2.XMLHTTP");
		}catch(e){
			try{
				xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")
			}catch(e){
				try{
					xmlhttp=new XMLHttpRequest();
					if(xmlhttp.overrideMimeType)
					{
						xmlhttp.overrideMimeType("text/xml");
					}
				}catch(e){
					alert("error");
				}
			}
	    }
		alert(xmlhttp);
	    xmlhttp.onreadystatechange=processRequest;
	    xmlhttp.open("GET","http://172.20.230.58:9000/blog/login?email=john",true);	
	    xmlhttp.send(null);
	}
	function processRequest()
	{
		if(xmlhttp.readyState==4)
		{
			alert("xmlhttp.status=="+ xmlhttp.status);
			if(xmlhttp.status==200)
			{
				var sobj=document.getElementById("suggest");
				var str=xmlhttp.responseTex;
				sobj.innerHTML=str+"<br/>"+sobj.innerHTML;
			}
		}
	}
	function searchs()
	{
		searchSuggest();
	}
	</script>
  </head>
  
  <body>
    <h3>Ajax Login</h3>
    <div style="width:500px">
    		<input type="button" id="cmdSearch" name="cmdSearch" value="ajax test" onClick="searchs()" />
    		<div id="suggest" style="width:200px;"></div>
    </div>
  </body>
</html>
