<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>google-map</title>
		<meta name="description" content="" />
		<meta name="author" content="Jim_qiao" />

		<meta name="viewport" content="width=device-width; initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false" />
<script type="text/javascript">
	function datainit() {

		navigator.geolocation.getCurrentPosition(function(position) {

			var coords = position.coords;

			//设定地图参数，将用户的当前位置的纬度、经度设定为地图的中心点

			var latlng = new google.maps.LatLng(coords.latitude, coords.longitude);

			var myOptions = {

				zoom : 14,

				center : latlng,

				mapTypeId : google.maps.MapTypeId.ROADMAP

			};

			//创建地图并在“map“div中进行显示

			var map1;

			map1 = new google.maps.Map(document.getElementById("map"), myOptions);

			//地图上创建标记

			var marker = new google.maps.Marker({

				position : latlng,

				map : map1

			});

			//设定标注窗口，并指定该窗口中的注释文字

			var infowindow = new google.maps.InfoWindow({

				content : "当前位置！"

			});

			//打开标注窗口

			infowindow.open(map1, marker);

		});

	}

		</script>
	</head>

	<body onload = "datainit();">
		<div>
			<header>
				<h1>google-map</h1>
			</header>
			<nav>
				<p>
					<a href="/">Home</a>
				</p>
			</nav>

			<div>
<div id="map" style="width:400px; height:400px"></div>
			</div>

			<footer>
				<p>
					&copy; Copyright  by Jim_qiao
				</p>
			</footer>
		</div>
	</body>
</html>
